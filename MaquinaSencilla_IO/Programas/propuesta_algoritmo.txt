** Planteo del problema:

    A continuación se obtendrá el perfil de temperaturas en estado estacionario
    de una barra de metal.
    La ecuación diferencial que representa este problema simple es la siguiente:

    d^2u/dx^2 = 0,
        Condiciones de borde u(1)=100 y u(M)=0.
        Condiciones iniciales u(2:M-1)=0

    La solución a esta ecuación simple se realiza de forma numérica,
    por el método de las diferencias finitas.
    
    La solución analítica a este problema es la recta que pasa por los puntos (1,100) y (M,0)

** Código Matlab/Octave.

  clear all;
  % Inicializo el vector de temperaturas
  M=100;
  u(1)=100;
  u(2:M)=0;

  % Iteración principal
  N=3000;
  for(k=1:N)
	  % Sub Iteración
	  for(i=2:M-1)
		  u(i)=( u(i+1) + u(i-1) )/2;
	  end
  end
  plot(u);
  
    
** Código en la máquina simple ampliada:
    
Para implementar este extracto de código necesito Load (LD) para traerme valores de la memoria
y shift right (SHR) para dividir por dos.


// Inicialización...
MOV @0,k
MainIt: CMP k,N
    // Si terminé de iterar voy al final del programa
        BEQ EndMainIt
    // Inicializo i = 0
        MOV @0,i
    SubIt: CMP i,M
        BEQ EndSubit
        MOV @0,tmp
        // Actualizo punteros u(i-1), u(i) y u(i+1)
            MOV u_curr_ptr,u_prev_ptr
            MOV u_next_ptr,u_curr_ptr
            ADD u_nbr_size,u_next_ptr
        // Obtengo valores apuntados, u_prev = u(i-1) y u_next = u(i+1)
            LD u_prev_ptr,u_prev
            LD u_next_ptr,u_next
        // Promedio, u(i) = ( u(i+1) + u(i-1) ) / 2
            ADD u_prev,tmp
            ADD u_next,tmp
            SHR tmp
            MOV tmp,u_curr
        // Incremento subiteración 
            ADD @1,i
        // Salto al principio del ciclo: SubIt
            CMP @0,@0
            BEQ SubIt 
    EndSubit:
    // Incremento iteración principal
        ADD @1,k
    // Salto al principio del ciclo: SubIt
        CMP @0,@0
        BEQ MainIt
EndMainIt:
    CMP @0,@0
    BEQ EndMainIt
